// IBM 1620 Jr. SPS Assembler (v1.05)
// Source: /home/martin/git/Py1620/fibo.sps
// Assembled: 5/17/2025 @ 19:57

// ---------------------------------------------------------------
// Startup
00000: 04 01  00 00 00 00 00  00 00 00 00 00
00012: 04 01  00 00 00 00 00  00 00 00 00 00
00024: 04 09  00 00 04 00 02  00 00 00 00 00

// Multiply table
00100: 00 00 00 00 00 00 00 00 00 00 00 00 01 00 02 00 03 00 04 00
00120: 00 00 02 00 04 00 06 00 08 00 00 00 03 00 06 00 09 00 02 01
00140: 00 00 04 00 08 00 02 01 06 01 00 00 05 00 00 01 05 01 00 02
00160: 00 00 06 00 02 01 08 01 04 02 00 00 07 00 04 01 01 02 08 02
00180: 00 00 08 00 06 01 04 02 02 03 00 00 09 00 08 01 07 02 06 03
00200: 00 00 00 00 00 00 00 00 00 00 05 00 06 00 07 00 08 00 09 00
00220: 00 01 02 01 04 01 06 01 08 01 05 01 08 01 01 02 04 02 07 02
00240: 00 02 04 02 08 02 02 03 06 03 05 02 00 03 05 03 00 04 05 04
00260: 00 03 06 03 02 04 08 04 04 05 05 03 02 04 09 04 06 05 03 06
00280: 00 04 08 04 06 05 04 06 02 07 05 04 04 05 03 06 02 07 01 08

// Add table
00300: 00 01 02 03 04 05 06 07 08 09 01 02 03 04 05 06 07 08 09 10
00320: 02 03 04 05 06 07 08 09 10 11 03 04 05 06 07 08 09 10 11 12
00340: 04 05 06 07 08 09 10 11 12 13 05 06 07 08 09 10 11 12 13 14
00360: 06 07 08 09 10 11 12 13 14 15 07 08 09 10 11 12 13 14 15 16
00380: 08 09 10 11 12 13 14 15 16 17 09 10 11 12 13 14 15 16 17 18

// Record mark
00400: 0A
// ---------------------------------------------------------------


00402: 03 04  00 00 00 00 00  00 00 01 00 02                        // START  RCTY ,,, RETURN CARRIAGE
00414: 02 07  00 00 04 08 00  00 00 07 01 02                        // LOOP   BT   FIBO,FIBN       ,,, PASS FIBN VALUE TO FUNCTION FIBO
00426: 01 01  00 00 07 01 02  10 00 00 00 01                        //        AM   FIBN,1          ,,, ADD 1 TO FIBN
00438: 01 04  00 00 07 01 02  10 00 00 02 00                        //        CM   FIBN,20         ,,, LOOP OVER THE FIRST 20 FIBONACCI NUMBERS
00450: 04 07  00 00 04 01 04  00 01 02 00 00                        //        BNE  LOOP            ,,, JUMP BACK TO LOOP IF 20 NOT YET REACHED
00462: 04 08  00 00 00 00 00  00 00 00 00 00                        //        H    ,,, HALT WHEN DONE
00474: 10 00 00 00 00                                               // N      DC   5,0             ,,, INPUT VALUE N GOES HERE
00480: 01 04  00 00 04 07 09  10 00 00 00 03                        // FIBO   CM   FIBO-1,3        ,,, START OF FIBONACCI FUNCTION
00492: 04 07  00 00 06 07 02  00 01 03 00 00                        //        BL   PRINT           ,,, JUMP TO PRINT AND OUTPUT 1 IF N LESS THA
00504: 01 06  00 00 07 02 03  10 00 00 00 02                        //        TFM  L2,2            ,,, OTHERWISE SET UP VARIABLES FOR SUMMATION
00516: 01 06  00 00 07 02 08  10 00 00 00 01                        //        TFM  A,1
00528: 01 06  00 00 07 03 03  10 00 00 00 01                        //        TFM  B,1
00540: 01 06  00 00 07 03 09  10 00 00 00 00                        // LOOP2  TFM  C,0             ,,, ITERATIVE LOOP FOR SUMMING VALUE
00552: 02 01  00 00 07 03 09  00 00 07 02 08                        //        A    C,A
00564: 02 01  00 00 07 03 09  00 00 07 03 03                        //        A    C,B
00576: 02 06  00 00 07 02 08  00 00 07 03 03                        //        TF   A,B
00588: 02 06  00 00 07 03 03  00 00 07 03 09                        //        TF   B,C
00600: 01 01  00 00 07 02 03  10 00 00 00 01                        //        AM   L2,1
00612: 02 04  00 00 07 02 03  00 00 04 07 09                        //        C    L2,FIBO-1
00624: 04 07  00 00 05 04 00  00 01 03 00 00                        //        BL   LOOP2
00636: 03 08  00 00 07 03 00  00 00 01 00 00                        //        WNTY B-3             ,,, OUTPUT B (SHOWING LAST 4 DIGITS)
00648: 03 04  00 00 00 00 00  00 00 01 00 02                        //        RCTY 
00660: 04 02  00 00 00 00 00  00 00 00 00 00                        //        BB   ,,, BRANCH BACK TO MAIN LOOP
00672: 03 08  00 00 07 01 04  00 00 01 00 00                        // PRINT  WNTY ONE-3           ,,, OUTPUT 1
00684: 03 04  00 00 00 00 00  00 00 01 00 02                        //        RCTY 
00696: 04 02  00 00 00 00 00  00 00 00 00 00                        //        BB   ,,, BRANCH BACK TO MAIN LOOP
00708: 10 00 00 00 01                                               // FIBN   DC   5,1             ,,, WHICH FIBONACCI NUMBER TO PRINT
00713: 10 00 00 00 01                                               // ONE    DC   5,1
00718: 0A                                                           //        DC   1,@             ,,, ADD A RECORD MARK SO ONE CAN BE PRINTED
00719: 10 00 00 00 00                                               // L2     DC   5,0             ,,, LOOP 2 INDEX
00724: 10 00 00 00 00                                               // A      DC   5,0
00729: 10 00 00 00 00                                               // B      DC   5,0
00734: 0A                                                           //        DC   1,@             ,,, ADD A RECORD MARK SO B CAN BE PRINTED
00735: 10 00 00 00 00                                               // C      DC   5,0
                                                                    //        DEND START
